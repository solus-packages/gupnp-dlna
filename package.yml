name       : gupnp-dlna
version    : 0.10.5
release    : 3
source     :
    - https://download.gnome.org/sources/gupnp-dlna/0.10/gupnp-dlna-0.10.5.tar.xz : 123e368227c11d5c17fc1aa76cbdaffa345355eb51d172cd39fc74a5b468ff6a
license    : LGPL-2.0
component  : network.util
summary    : GUPnP DLNA utility for DLNA-related tasks.
description: |
    GUPnP DLNA is a small utility library that aims to ease the DLNA-related tasks such as media profile guessing, transcoding to a given profile, etc.
builddeps  :
    - pkgconfig(libxml-2.0)
    - pkgconfig(glib-2.0)
    - pkgconfig(gobject-2.0)
    - pkgconfig(gmodule-2.0)
    - pkgconfig(gstreamer-1.0)
    - pkgconfig(gstreamer-pbutils-1.0)
    - vala
setup      : |
    # this package forces -O0 over our -O2 which breaks FORTIFY_SOURCE
    %configure --disable-static \
               CFLAGS="${CFLAGS/-D_FORTIFY_SOURCE=2/}"
build      : |
    %make
install    : |
    # this is just a really bad package now.
    %make_install -j1
